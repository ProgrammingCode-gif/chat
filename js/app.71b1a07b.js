(function(){"use strict";var e={4594:function(e,n,s){var t=s(9242),a=s(3396);const o={class:"wrapper"};function r(e,n,s,r,i,c){const u=(0,a.up)("Chat"),l=(0,a.up)("Modal");return(0,a.wg)(),(0,a.iD)("div",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.users,(n=>((0,a.wg)(),(0,a.j4)(u,{key:n.id,user:n,id:e.id,onSendMessange:c.sendMessange,messanges:i.messanges,onChangeStatus:c.changeStatus,typeInfo:i.typeInfo,onOpenModal:c.openModal},null,8,["user","id","onSendMessange","messanges","onChangeStatus","typeInfo","onOpenModal"])))),128)),(0,a.wy)((0,a.Wm)(l,{user:i.user,onCloseModal:c.closeModal,onSendPicture:c.sendPicture},null,8,["user","onCloseModal","onSendPicture"]),[[t.F8,i.isModalOpen]])])}s(7658);const i={class:"chat"};function c(e,n,s,t,o,r){const c=(0,a.up)("ChatHeader"),u=(0,a.up)("ChatMain"),l=(0,a.up)("ChatFooter");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(c,{user:s.user,typeInfo:s.typeInfo},null,8,["user","typeInfo"]),(0,a.Wm)(u,{messanges:s.messanges,user:s.user},null,8,["messanges","user"]),(0,a.Wm)(l,{user:s.user,onSendMessange:r.sendMessange,onChangeStatus:r.changeStatus,onOpenModal:r.openModal},null,8,["user","onSendMessange","onChangeStatus","onOpenModal"])])}var u=s(7139);const l={class:"chat__header"},d=["src"],h={class:"chat__header-info"},m={class:"chat__header-name"},g={class:"chat__header-status"};function p(e,n,s,t,o,r){return(0,a.wg)(),(0,a.iD)("header",l,[(0,a._)("img",{class:"chat__header-image",src:s.user.photo,alt:""},null,8,d),(0,a._)("div",h,[(0,a._)("h2",m,(0,u.zw)(s.user.name),1),(0,a._)("span",g,(0,u.zw)(s.typeInfo[1]&&s.typeInfo[0]!=s.user.name?"Печатает...":"Онлайн"),1)])])}var _={data(){},props:{user:Object,typeInfo:Array}},f=s(89);const M=(0,f.Z)(_,[["render",p]]);var v=M,y=s.p+"img/Bg.d34bf1e0.png";const w={class:"chat__main"},b=(0,a._)("img",{class:"chat__main-bg",src:y,alt:""},null,-1);function C(e,n,s,t,o,r){const i=(0,a.up)("Messange");return(0,a.wg)(),(0,a.iD)("main",w,[b,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.messanges,(e=>((0,a.wg)(),(0,a.j4)(i,{key:e.id,messange:e,user:s.user},null,8,["messange","user"])))),128))])}const O=["src"],k={key:0};function S(e,n,s,t,o,r){return(0,a.wg)(),(0,a.iD)("div",{class:(0,u.C_)("chat__main-"+(s.messange.author===s.user.name?"sendContent":"receiveContent"))},[s.messange.author===s.user.name?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,u.C_)("chat__main-"+(s.messange.author===s.user.name?"sendTime":"receiveTime"))},(0,u.zw)(s.messange.date),3)):(0,a.kq)("",!0),s.messange.text?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,u.C_)("chat__main-"+(s.messange.author===s.user.name?"sendMessange":"receiveMessange"))},(0,u.zw)(s.messange.text),3)):((0,a.wg)(),(0,a.iD)("div",{key:2,class:(0,u.C_)("chat__main-"+(s.messange.author===s.user.name?"sendMessange":"receiveMessange"))},[(0,a._)("img",{class:(0,u.C_)("chat__main-"+(s.messange.author===s.user.name?"sendPicture":"receivePicture")),src:s.messange.URL,alt:""},null,10,O),s.messange.comment?((0,a.wg)(),(0,a.iD)("p",k,(0,u.zw)(s.messange.comment),1)):(0,a.kq)("",!0)],2)),s.messange.author!==s.user.name?((0,a.wg)(),(0,a.iD)("span",{key:3,class:(0,u.C_)("chat__main-"+(s.messange.author===s.user.name?"sendTime":"receiveTime"))},(0,u.zw)(s.messange.date),3)):(0,a.kq)("",!0)],2)}var x={data(){return{}},props:{messange:Object,user:Object}};const D=(0,f.Z)(x,[["render",S]]);var I=D,j={components:{Messange:I},props:{messanges:Array,user:Object}};const P=(0,f.Z)(j,[["render",C]]);var T=P,U=s.p+"img/Photo.2ab0d0a5.svg",L=s.p+"img/Send.e8776971.svg";const R={class:"chat__footer"},$=(0,a._)("img",{src:U,alt:""},null,-1),Z=[$],z=(0,a._)("img",{src:L,alt:""},null,-1),W=[z];function A(e,n,s,o,r,i){return(0,a.wg)(),(0,a.iD)("footer",R,[(0,a.wy)((0,a._)("input",{onInput:n[0]||(n[0]=(...e)=>i.changeStatus&&i.changeStatus(...e)),"onUpdate:modelValue":n[1]||(n[1]=e=>r.text=e),type:"text",class:"chat__footer-input",placeholder:"Написать сообщение..."},null,544),[[t.nr,r.text]]),""===r.text?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:n[2]||(n[2]=(...e)=>i.openModal&&i.openModal(...e)),class:"chat__footer-btn"},Z)):((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:n[3]||(n[3]=(...e)=>i.sendMessange&&i.sendMessange(...e)),class:"chat__footer-btn"},W))])}var F={data(){return{text:"",messange:{},isTyping:!1}},props:{user:Object},methods:{openModal(){this.$emit("openModal",this.user)},sendMessange(){this.messange.author=this.user.name,this.messange.text=this.text,this.messange.date=(new Date).toLocaleTimeString().slice(0,-3),this.$emit("sendMessange",this.messange),this.text="",this.messange={},this.changeStatus()},changeStatus(){this.text?this.isTyping=!0:this.isTyping=!1;const e=[this.user.name,this.isTyping];this.$emit("changeStatus",e)}}};const H=(0,f.Z)(F,[["render",A]]);var q=H,V={components:{ChatHeader:v,ChatMain:T,ChatFooter:q},methods:{sendMessange(e){this.$emit("sendMessange",e)},changeStatus(e){this.$emit("changeStatus",e)},openModal(e){this.$emit("openModal",e)}},props:{user:Object,messanges:Array,typeInfo:Array}};const K=(0,f.Z)(V,[["render",c]]);var Y=K;const B=(0,a._)("h2",{class:"modal__content-title"},"Отправить картинку",-1),E=(0,a._)("span",null,"URL",-1),G=(0,a._)("span",null,"Комментарий",-1),J={class:"modal__content-btns"};function N(e,n,s,o,r,i){return(0,a.wg)(),(0,a.j4)(t.uT,{name:"modal"},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"modal",onClick:n[5]||(n[5]=(...e)=>i.closeModal&&i.closeModal(...e))},[(0,a._)("div",{onClick:n[4]||(n[4]=(0,t.iM)((()=>{}),["stop"])),class:"modal__content"},[B,(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>r.URL=e),type:"text"},null,512),[[t.nr,r.URL]]),E]),(0,a._)("label",null,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>r.comment=e),type:"text"},null,512),[[t.nr,r.comment]]),G]),(0,a._)("div",J,[(0,a._)("button",{onClick:n[2]||(n[2]=(...e)=>i.closeModal&&i.closeModal(...e)),class:"modal__content-btn cancel"},"Отмена"),(0,a._)("button",{onClick:n[3]||(n[3]=(...e)=>i.sendPicture&&i.sendPicture(...e)),class:"modal__content-btn send"},"ОТПРАВИТЬ")])])])])),_:1})}var Q={data(){return{URL:"",comment:""}},props:{user:Object},methods:{closeModal(){this.$emit("closeModal")},sendPicture(){if(this.URL.startsWith("https://")){const e={author:this.user.name,URL:this.URL,comment:this.comment,date:(new Date).toLocaleTimeString().slice(0,-3)};this.$emit("sendPicture",e),console.log(e),this.URL="",this.comment="",this.closeModal()}}}};const X=(0,f.Z)(Q,[["render",N]]);var ee=X,ne={data(){return{isModalOpen:!1,user:{},currentId:1,typeInfo:[],messanges:[],isModalOpen:!1,users:[{id:1,name:"Александр",photo:"https://w7.pngwing.com/pngs/862/646/png-transparent-beard-hipster-male-man-avatars-xmas-giveaway-icon-thumbnail.png"},{id:2,name:"Евгений",photo:"https://www.pngkey.com/png/detail/805-8050143_legalbot-avatar-avatar-bot.png"}]}},components:{Chat:Y,Modal:ee},methods:{sendMessange(e){e.id=this.currentId++,this.messanges.push(e),console.log(e)},changeStatus(e){""!=e[1]?this.typeInfo=[e[0],!0]:this.typeInfo=[e[0],!1],console.log(e)},openModal(e){this.user=e,this.isModalOpen=!0,console.log(this.user)},closeModal(){this.isModalOpen=!1},sendPicture(e){e.id=this.currentId++,this.messanges.push(e)}}};const se=(0,f.Z)(ne,[["render",r]]);var te=se;(0,t.ri)(te).mount("#app")}},n={};function s(t){var a=n[t];if(void 0!==a)return a.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(n,t,a,o){if(!t){var r=1/0;for(l=0;l<e.length;l++){t=e[l][0],a=e[l][1],o=e[l][2];for(var i=!0,c=0;c<t.length;c++)(!1&o||r>=o)&&Object.keys(s.O).every((function(e){return s.O[e](t[c])}))?t.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(l--,1);var u=a();void 0!==u&&(n=u)}}return n}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[t,a,o]}}(),function(){s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,{a:n}),n}}(),function(){s.d=function(e,n){for(var t in n)s.o(n,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){s.p="/chat/"}(),function(){var e={143:0};s.O.j=function(n){return 0===e[n]};var n=function(n,t){var a,o,r=t[0],i=t[1],c=t[2],u=0;if(r.some((function(n){return 0!==e[n]}))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(c)var l=c(s)}for(n&&n(t);u<r.length;u++)o=r[u],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(l)},t=self["webpackChunkchat"]=self["webpackChunkchat"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=s.O(void 0,[998],(function(){return s(4594)}));t=s.O(t)})();
//# sourceMappingURL=app.71b1a07b.js.map